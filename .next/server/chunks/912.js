exports.id=912,exports.ids=[912],exports.modules={5525:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9372:(e,s,t)=>{Promise.resolve().then(t.bind(t,6246))},6246:(e,s,t)=>{"use strict";t.d(s,{I18nProvider:()=>i});var r=t(326),a=t(12),o=t(7577);function i({children:e,locale:s}){let[t,i]=(0,o.useState)(null);return t?r.jsx(a.a3,{i18n:t,children:e}):null}t(8562)},3412:(e,s,t)=>{"use strict";t.d(s,{m:()=>r});class r{static{this.SESSION_KEY="mbti-session-data"}static{this.extensionTimer=null}static initializeSession(e,s="core"){let t=Date.now(),r=this.getTimeoutForPhase(s),a={sessionId:e,phase:s,createdAt:t,lastActiveAt:t,expiresAt:t+r};return this.saveSessionData(a),this.startAutoExtension(),a}static getTimeoutForPhase(e){return"extended"===e?1728e5:108e5}static transitionToExtendedPhase(e){let s=this.getSessionData();if(!s||s.sessionId!==e)return null;let t=Date.now();return s.phase="extended",s.extendedPhaseStartedAt=t,s.lastActiveAt=t,s.expiresAt=t+1728e5,this.saveSessionData(s),s}static updateActivity(){let e=this.getSessionData();if(!e||this.isSessionExpired(e))return;let s=Date.now();e.lastActiveAt=s,"extended"===e.phase&&s-e.lastActiveAt<3e5&&(e.expiresAt=s+1728e5),this.saveSessionData(e)}static isExtendedPhase(){let e=this.getSessionData();return e?.phase==="extended"}static getCurrentPhase(){let e=this.getSessionData();return e?.phase||null}static isSessionExpired(e){let s=e||this.getSessionData();return!s||Date.now()>s.expiresAt}static getTimeRemaining(){let e=this.getSessionData();return!e||this.isSessionExpired(e)?0:Math.max(0,e.expiresAt-Date.now())}static cleanupExpiredSession(){let e=this.getSessionData();e&&this.isSessionExpired(e)&&this.clearSessionData()}static getSessionData(){try{let e=localStorage.getItem(this.SESSION_KEY);if(!e)return null;return JSON.parse(e)}catch{return null}}static saveSessionData(e){try{localStorage.setItem(this.SESSION_KEY,JSON.stringify(e))}catch(e){console.error("Failed to save session data:",e)}}static clearSessionData(){try{localStorage.removeItem(this.SESSION_KEY),this.stopAutoExtension()}catch(e){console.error("Failed to clear session data:",e)}}static startAutoExtension(){this.stopAutoExtension(),this.extensionTimer=setInterval(()=>{this.updateActivity()},3e5)}static stopAutoExtension(){this.extensionTimer&&(clearInterval(this.extensionTimer),this.extensionTimer=null)}static validateSessionState(e){let s=this.getSessionData();if(!s||e.sessionId!==s.sessionId||this.isSessionExpired(s))return!1;let t=null!==e.selectedFormat&&("questions"===e.currentStep||"results"===e.currentStep||"coaching"===e.currentStep),r=t&&"extended"===s.phase,a=!t&&"core"===s.phase;return r||a}static getSessionSummary(){let e=this.getSessionData(),s=this.isSessionExpired(e);if(!e||s)return{isActive:!1,phase:null,timeRemaining:"0h 0m",expiresAt:null};let t=this.getTimeRemaining();return{isActive:!0,phase:e.phase,timeRemaining:`${Math.floor(t/36e5)}h ${Math.floor(t%36e5/6e4)}m`,expiresAt:new Date(e.expiresAt)}}}},4885:(e,s,t)=>{"use strict";t.d(s,{H:()=>i});class r{compressSAISResponses(e){let s=e.filter(e=>"distribution"===e.responseType&&void 0!==e.distributionA&&void 0!==e.distributionB),t={format:"sais",responses:s.map(e=>({q:parseInt(e.questionId),a:e.distributionA,b:e.distributionB,d:this.compressDimension(e.mbtiDimension),t:Math.floor(new Date(e.timestamp||Date.now()).getTime()/1e3)})),metadata:{totalQuestions:16,completed:s.length,lastModified:Date.now()}},r=JSON.stringify(s),a=JSON.stringify(t);return{compressed:a,originalSize:r.length,compressedSize:a.length,compressionRatio:(1-a.length/r.length)*100}}decompressSAISResponses(e){try{return JSON.parse(e).responses.map(e=>({questionId:e.q.toString(),responseId:`sais-${e.q}-${Date.now()}`,sessionId:"",questionType:"extended",responseType:"distribution",distributionA:e.a,distributionB:e.b,mbtiDimension:this.decompressDimension(e.d),timestamp:new Date(1e3*e.t),score:0}))}catch(e){return console.error("Failed to decompress SAIS responses:",e),[]}}storeSAISAssessment(e,s){try{let{extendedResponses:t=[],...r}=s;if(!(t.length>0)||"sais"!==s.selectedFormat)return localStorage.setItem(e,JSON.stringify(s)),!0;{let s=this.compressSAISResponses(t),a=`${this.COMPRESSION_PREFIX}${e}`;localStorage.setItem(a,s.compressed);let o={...r,extendedResponsesCompressed:!0,compressionStats:{originalSize:s.originalSize,compressedSize:s.compressedSize,ratio:s.compressionRatio}};return localStorage.setItem(e,JSON.stringify(o)),s.compressionRatio>0&&console.log(`SAIS compression saved ${s.compressionRatio.toFixed(1)}% space`),!0}}catch(e){return console.error("Failed to store SAIS assessment:",e),!1}}retrieveSAISAssessment(e){try{let s=localStorage.getItem(e);if(!s)return null;let t=JSON.parse(s);if(t.extendedResponsesCompressed){let s=`${this.COMPRESSION_PREFIX}${e}`,r=localStorage.getItem(s);if(r){let s=this.decompressSAISResponses(r).map(s=>({...s,sessionId:e}));return{...t,extendedResponses:s,extendedResponsesCompressed:void 0,compressionStats:void 0}}}return t}catch(e){return console.error("Failed to retrieve SAIS assessment:",e),null}}batchUpdateSAIS(e,s){this.pendingUpdates.set(e,s),this.batchTimer&&clearTimeout(this.batchTimer),this.batchTimer=setTimeout(()=>{this.processBatchUpdates()},500)}processBatchUpdates(){this.pendingUpdates.forEach((e,s)=>{this.storeSAISAssessment(s,e)}),this.pendingUpdates.clear(),this.batchTimer=null}cleanupSAISData(e){try{let s=`${this.COMPRESSION_PREFIX}${e}`;localStorage.removeItem(s),localStorage.removeItem(e),this.pendingUpdates.delete(e)}catch(e){console.error("Failed to cleanup SAIS data:",e)}}checkSAISStorageHealth(){try{let e=0,s=0;for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);if(r){let t=localStorage.getItem(r);t&&(e+=r.length+t.length,r.startsWith(this.COMPRESSION_PREFIX)&&s++)}}let t=5242880-e;return{available:!0,usedSpace:e,estimatedCapacity:t,compressedSessions:s}}catch(e){return{available:!1,usedSpace:0,estimatedCapacity:0,compressedSessions:0}}}compressDimension(e){return e.charAt(0)}decompressDimension(e){return({E:"E/I",S:"S/N",T:"T/F",J:"J/P"})[e]||"E/I"}exportSAISData(e){let s=this.retrieveSAISAssessment(e);return s?JSON.stringify({version:"1.0",format:"sais-optimized",sessionId:e,timestamp:new Date().toISOString(),data:btoa(JSON.stringify(s))}):null}importSAISData(e){try{let s=JSON.parse(e);if("sais-optimized"!==s.format)return!1;let t=JSON.parse(atob(s.data));return this.storeSAISAssessment(s.sessionId,t)}catch(e){return console.error("Failed to import SAIS data:",e),!1}}constructor(){this.COMPRESSION_PREFIX="sais_compressed_",this.MAX_BATCH_SIZE=5,this.pendingUpdates=new Map,this.batchTimer=null}}let a=new r;class o{checkStorageHealth(){return{localStorage:this.isLocalStorageAvailable(),sessionStorage:this.isSessionStorageAvailable()}}getItem(e){if(this.mightBeSAISSession(e)){let s=a.retrieveSAISAssessment(e);if(s)return{success:!0,data:s,layer:"localStorage"}}let s=this.getFromLocalStorage(e);if(s.success)return{...s,layer:"localStorage"};let t=this.getFromSessionStorage(e);if(t.success)return{...t,layer:"sessionStorage"};let r=this.getFromMemory(e);return r.success?{...r,layer:"memory"}:{success:!1,error:"Item not found in any storage layer",layer:"memory"}}setItem(e,s){if(this.isSAISAssessmentData(e,s)&&a.storeSAISAssessment(e,s))return{success:!0,data:{savedTo:1,layers:"optimized",optimization:"sais-compressed"},layer:"localStorage"};let t=JSON.stringify(s),r=0,o=[],i=this.setToLocalStorage(e,t);i.success?r++:o.push(`localStorage: ${i.error}`);let n=this.setToSessionStorage(e,t);return n.success?r++:o.push(`sessionStorage: ${n.error}`),this.memoryStorage.set(e,t),{success:++r>0,data:{savedTo:r,layers:3===r?"all":"partial",errors:o.length>0?o:void 0}}}removeItem(e){let s=0;if(this.mightBeSAISSession(e)&&a.cleanupSAISData(e),this.isLocalStorageAvailable())try{localStorage.removeItem(e),s++}catch(e){}if(this.isSessionStorageAvailable())try{sessionStorage.removeItem(e),s++}catch(e){}return this.memoryStorage.delete(e),{success:!0,data:{removedFrom:++s}}}clear(){let e=0;if(this.isLocalStorageAvailable())try{localStorage.clear(),e++}catch(e){}if(this.isSessionStorageAvailable())try{sessionStorage.clear(),e++}catch(e){}return this.memoryStorage.clear(),{success:!0,data:{clearedLayers:++e}}}isLocalStorageAvailable(){try{return!1}catch{return!1}}isSessionStorageAvailable(){try{return!1}catch{return!1}}getFromLocalStorage(e){try{if(!this.isLocalStorageAvailable())return{success:!1,error:"localStorage not available"};let s=localStorage.getItem(e);if(null===s)return{success:!1,error:"Item not found"};return{success:!0,data:JSON.parse(s)}}catch(e){if(e instanceof Error&&"QuotaExceededError"===e.name)return{success:!1,error:"Storage quota exceeded"};return{success:!1,error:"localStorage read error"}}}getFromSessionStorage(e){try{if(!this.isSessionStorageAvailable())return{success:!1,error:"sessionStorage not available"};let s=sessionStorage.getItem(e);if(null===s)return{success:!1,error:"Item not found"};return{success:!0,data:JSON.parse(s)}}catch(e){return{success:!1,error:"sessionStorage read error"}}}getFromMemory(e){try{let s=this.memoryStorage.get(e);if(!s)return{success:!1,error:"Item not found in memory"};return{success:!0,data:JSON.parse(s)}}catch(e){return{success:!1,error:"Memory storage read error"}}}setToLocalStorage(e,s){try{if(!this.isLocalStorageAvailable())return{success:!1,error:"localStorage not available"};return localStorage.setItem(e,s),{success:!0}}catch(t){if(t instanceof Error&&"QuotaExceededError"===t.name){this.cleanupOldStorageItems("localStorage");try{return localStorage.setItem(e,s),{success:!0}}catch{return{success:!1,error:"Storage quota exceeded after cleanup"}}}return{success:!1,error:"localStorage write error"}}}setToSessionStorage(e,s){try{if(!this.isSessionStorageAvailable())return{success:!1,error:"sessionStorage not available"};return sessionStorage.setItem(e,s),{success:!0}}catch(e){if(e instanceof Error&&"QuotaExceededError"===e.name)return{success:!1,error:"Storage quota exceeded"};return{success:!1,error:"sessionStorage write error"}}}cleanupOldStorageItems(e){try{let s="localStorage"===e?localStorage:sessionStorage,t=Object.keys(s),r=Math.ceil(t.length/2);for(let e=0;e<r;e++)s.removeItem(t[e])}catch{}}isSAISAssessmentData(e,s){return e.startsWith("session-")&&s?.selectedFormat==="sais"&&s?.extendedResponses?.length>0}mightBeSAISSession(e){return e.startsWith("session-")}getExtendedHealth(){let e=this.checkStorageHealth(),s=a.checkSAISStorageHealth();return{...e,saisOptimization:s}}destroy(){this.memoryStorage.clear()}constructor(){this.memoryStorage=new Map}}let i=new o},9844:(e,s,t)=>{"use strict";t.d(s,{u7:()=>p});var r=t(551),a=t(5251),o=t(4885),i=t(3412);let n={scenarios:12,traits:16,sais:12},l={scenarios:4+n.scenarios,traits:4+n.traits,sais:4+n.sais},c={coreComplete:25,formatSelected:40},m={core:"core-foundation",scenarios:"life-scenarios",traits:"personality-traits",sais:"sais-methodology"},d={sessionId:"",currentStep:"welcome",language:"en",responses:[],coreResponses:[],extendedResponses:[],selectedFormat:null,progress:0,isComplete:!1},u={theme:"light",direction:"ltr",sidebarOpen:!1,currentPage:"home"},S=(0,r.Ue)()((0,a.mW)((e,s)=>({assessment:d,ui:u,setSessionId:s=>{i.m.initializeSession(s,"core"),e(e=>({assessment:{...e.assessment,sessionId:s}}))},setCurrentStep:s=>e(e=>({assessment:{...e.assessment,currentStep:s}})),setLanguage:s=>e(e=>({assessment:{...e.assessment,language:s},ui:{...e.ui,direction:"ar"===s?"rtl":"ltr"}})),addResponse:t=>e(e=>{let r;let a=e.assessment.responses.findIndex(e=>e.questionId===t.questionId);a>=0?(r=[...e.assessment.responses])[a]=t:r=[...e.assessment.responses,t];let o=[...e.assessment.coreResponses],i=[...e.assessment.extendedResponses];if("core"===t.questionType){let e=o.findIndex(e=>e.questionId===t.questionId);e>=0?o[e]=t:o.push(t)}else{let e=i.findIndex(e=>e.questionId===t.questionId);e>=0?i[e]=t:i.push(t)}let n={...e.assessment,responses:r,coreResponses:o,extendedResponses:i};return setTimeout(()=>{s().persistState()},0),{assessment:n}}),setResponses:s=>e(e=>{let t=s.filter(e=>"core"===e.questionType),r=s.filter(e=>"extended"===e.questionType);return{assessment:{...e.assessment,responses:s,coreResponses:t,extendedResponses:r}}}),setCoreResponses:s=>e(e=>({assessment:{...e.assessment,coreResponses:s}})),setExtendedResponses:s=>e(e=>({assessment:{...e.assessment,extendedResponses:s}})),setSelectedFormat:t=>{let r=s();r.assessment.sessionId&&i.m.transitionToExtendedPhase(r.assessment.sessionId);let a={totalQuestions:l[t],currentQuestionIndex:0,completedQuestions:4,questionPool:m[t]};e(e=>({assessment:{...e.assessment,selectedFormat:t,formatProgress:a,progress:c.formatSelected}}))},updateProgress:s=>e(e=>({assessment:{...e.assessment,progress:s}})),setProgress:s=>e(e=>({assessment:{...e.assessment,progress:s}})),calculateFormatSpecificProgress:()=>{let{selectedFormat:e,formatProgress:t,coreResponses:r,extendedResponses:a}=s().assessment;return e&&t?Math.min(100,Math.round((r.length+a.length)/t.totalQuestions*100)):r.length/4*c.coreComplete},updateFormatProgress:t=>{let{formatProgress:r}=s().assessment;if(!r)return;let a={...r,currentQuestionIndex:t,completedQuestions:4+t},o=s().calculateFormatSpecificProgress();e(e=>({assessment:{...e.assessment,formatProgress:a,progress:o}}))},completeAssessment:()=>e(e=>({assessment:{...e.assessment,isComplete:!0,currentStep:"results"}})),resetAssessment:()=>e(e=>({assessment:{...d,language:e.assessment.language}})),setInterimResults:s=>e(e=>({assessment:{...e.assessment,interimResults:s}})),setStartTime:s=>e(e=>({assessment:{...e.assessment,startTime:s}})),setCompletionTime:s=>e(e=>({assessment:{...e.assessment,completionTime:s}})),setCalculatedType:s=>e(e=>({assessment:{...e.assessment,calculatedType:s}})),setConfidence:s=>e(e=>({assessment:{...e.assessment,confidence:s}})),persistState:()=>{let e=s(),t={sessionId:e.assessment.sessionId,language:e.assessment.language,currentStep:e.assessment.currentStep,startTime:e.assessment.startTime||new Date,completionTime:e.assessment.completionTime,selectedFormat:e.assessment.selectedFormat,coreResponses:e.assessment.coreResponses,extendedResponses:e.assessment.extendedResponses,calculatedType:e.assessment.calculatedType,confidence:e.assessment.confidence,progress:e.assessment.progress,isComplete:e.assessment.isComplete,formatProgress:e.assessment.formatProgress};i.m.updateActivity(),o.H.setItem(e.assessment.sessionId,t)},restoreFromSession:s=>{try{let t=o.H.getItem(s);if(t.success&&t.data){let s=t.data;return e(e=>({assessment:{...e.assessment,sessionId:s.sessionId,language:s.language,currentStep:s.currentStep,startTime:s.startTime?new Date(s.startTime):void 0,completionTime:s.completionTime?new Date(s.completionTime):void 0,selectedFormat:s.selectedFormat,coreResponses:s.coreResponses||[],extendedResponses:s.extendedResponses||[],responses:[...s.coreResponses||[],...s.extendedResponses||[]],calculatedType:s.calculatedType,confidence:s.confidence,progress:s.progress,isComplete:s.isComplete,formatProgress:s.formatProgress},ui:{...e.ui,direction:"ar"===s.language?"rtl":"ltr"}})),!0}return!1}catch(e){return console.error("Failed to restore session:",e),!1}},setTheme:s=>e(e=>({ui:{...e.ui,theme:s}})),setDirection:s=>e(e=>({ui:{...e.ui,direction:s}})),toggleSidebar:()=>e(e=>({ui:{...e.ui,sidebarOpen:!e.ui.sidebarOpen}})),setCurrentPage:s=>e(e=>({ui:{...e.ui,currentPage:s}}))}),{name:"MBTI App Store"})),p=()=>S(e=>({sessionId:e.assessment.sessionId,currentStep:e.assessment.currentStep,language:e.assessment.language,responses:e.assessment.responses,coreResponses:e.assessment.coreResponses,extendedResponses:e.assessment.extendedResponses,selectedFormat:e.assessment.selectedFormat,progress:e.assessment.progress,isComplete:e.assessment.isComplete,startTime:e.assessment.startTime,completionTime:e.assessment.completionTime,calculatedType:e.assessment.calculatedType,confidence:e.assessment.confidence,interimResults:e.assessment.interimResults,formatProgress:e.assessment.formatProgress,setSessionId:e.setSessionId,setCurrentStep:e.setCurrentStep,setLanguage:e.setLanguage,addResponse:e.addResponse,setResponses:e.setResponses,setCoreResponses:e.setCoreResponses,setExtendedResponses:e.setExtendedResponses,setSelectedFormat:e.setSelectedFormat,updateProgress:e.updateProgress,setProgress:e.setProgress,calculateFormatSpecificProgress:e.calculateFormatSpecificProgress,updateFormatProgress:e.updateFormatProgress,completeAssessment:e.completeAssessment,resetAssessment:e.resetAssessment,setInterimResults:e.setInterimResults,setStartTime:e.setStartTime,setCompletionTime:e.setCompletionTime,setCalculatedType:e.setCalculatedType,setConfidence:e.setConfidence,persistState:e.persistState,restoreFromSession:e.restoreFromSession}))},3714:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,generateStaticParams:()=>d,metadata:()=>c});var r=t(9510);t(5023);var a=t(6028),o=t.n(a),i=t(3888),n=t.n(i);let l=(0,t(8570).createProxy)(String.raw`C:\Users\am112\OneDrive\سطح المكتب\Clients\MBTI\src\components\providers\I18nProvider.tsx#I18nProvider`),c={title:"MBTI Coaching Platform",description:"Comprehensive MBTI assessment and coaching platform",viewport:{width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"},themeColor:[{media:"(prefers-color-scheme: light)",color:"#4F46E5"},{media:"(prefers-color-scheme: dark)",color:"#1E1B4B"}],appleWebApp:{capable:!0,statusBarStyle:"default"}};function m({children:e,params:{locale:s}}){let t="ar"===s?"rtl":"ltr",a="ar"===s?`${o().variable} ${n().variable}`:o().variable,i="ar"===s?"font-arabic":"font-sans";return r.jsx("html",{lang:s,dir:t,className:a,children:r.jsx("body",{className:i,children:r.jsx(l,{locale:s,children:r.jsx("div",{id:"root",children:e})})})})}function d(){return[{locale:"en"},{locale:"ar"}]}},5023:()=>{}};