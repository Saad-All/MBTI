(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{488:function(e,t,n){Promise.resolve().then(n.bind(n,7768))},7768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(7437),r=n(2265),a=n(9376),o=n(3949),i=n(6164),l=n(6241),d=n(9098);function c(e){let{optionA:t,optionB:n,selectedOption:r,onSelect:a,disabled:o=!1}=e,{language:i}=(0,d.u7)(),l="ar"===i;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("button",{onClick:()=>a("A"),disabled:o,className:"\n          w-full p-4 md:p-6 text-left rounded-xl border-2 transition-all\n          touch-target no-select\n          ".concat(l?"text-right":"text-left","\n          ").concat("A"===r?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 hover:border-gray-300 dark:border-gray-700 hover:dark:border-gray-600","\n          ").concat(o?"opacity-50 cursor-not-allowed":"cursor-pointer","\n          active:scale-[0.98] active:transition-transform\n        "),children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"\n              flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center\n              ".concat("A"===r?"border-indigo-500 bg-indigo-500":"border-gray-300 dark:border-gray-600","\n            "),children:"A"===r&&(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:l?"أ":"A"}),(0,s.jsx)("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:t})]})]})}),(0,s.jsx)("button",{onClick:()=>a("B"),disabled:o,className:"\n          w-full p-4 md:p-6 text-left rounded-xl border-2 transition-all\n          touch-target no-select\n          ".concat(l?"text-right":"text-left","\n          ").concat("B"===r?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 hover:border-gray-300 dark:border-gray-700 hover:dark:border-gray-600","\n          ").concat(o?"opacity-50 cursor-not-allowed":"cursor-pointer","\n          active:scale-[0.98] active:transition-transform\n        "),children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"\n              flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center\n              ".concat("B"===r?"border-indigo-500 bg-indigo-500":"border-gray-300 dark:border-gray-600","\n            "),children:"B"===r&&(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:l?"ب":"B"}),(0,s.jsx)("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:n})]})]})})]})}var m=n(6448),u=n(5836);let g=[{id:"core_1",dimension:"E/I",questionKey:"assessment.core.q1.question",optionAKey:"assessment.core.q1.optionA",optionBKey:"assessment.core.q1.optionB",optionATendency:"E",optionBTendency:"I"},{id:"core_2",dimension:"S/N",questionKey:"assessment.core.q2.question",optionAKey:"assessment.core.q2.optionA",optionBKey:"assessment.core.q2.optionB",optionATendency:"S",optionBTendency:"N"},{id:"core_3",dimension:"T/F",questionKey:"assessment.core.q3.question",optionAKey:"assessment.core.q3.optionA",optionBKey:"assessment.core.q3.optionB",optionATendency:"T",optionBTendency:"F"},{id:"core_4",dimension:"J/P",questionKey:"assessment.core.q4.question",optionAKey:"assessment.core.q4.optionA",optionBKey:"assessment.core.q4.optionB",optionATendency:"J",optionBTendency:"P"}];function x(e){let{params:{locale:t}}=e,{t:n}=(0,o.$G)("common"),d=(0,a.useRouter)(),[x,y]=(0,r.useState)(0),[h,p]=(0,r.useState)(null),{sessionId:b,language:f,setLanguage:j,addResponse:v,responses:N,setProgress:k,setCurrentStep:w}=(0,i.g)();(0,r.useEffect)(()=>{j(t),w("questions")},[t,j,w]),(0,r.useEffect)(()=>{b||d.push("/".concat(t))},[b,t,d]),(0,r.useEffect)(()=>{k((x+1)/g.length*100)},[x,k]),(0,r.useEffect)(()=>{let e=g[x],t=N.find(t=>t.questionId===e.id);t?p(t.selectedOption):p(null)},[x,N]);let q=g[x],A=x===g.length-1;return b?(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:[(0,s.jsx)("header",{className:"absolute top-0 right-0 p-6",children:(0,s.jsx)(u.j,{})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 md:py-16 max-w-3xl safe-bottom",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(m.k,{current:x+1,total:g.length,showLabel:!0,labelText:n("assessment.core.progress",{current:x+1,total:g.length})})}),(0,s.jsx)(l.j,{question:n(q.questionKey),children:(0,s.jsx)(c,{optionA:n(q.optionAKey),optionB:n(q.optionBKey),selectedOption:h,onSelect:e=>{p(e)}})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-between gap-4",children:[(0,s.jsx)("button",{onClick:()=>{x>0&&y(x-1)},disabled:0===x,className:"\n              px-4 md:px-6 py-3 rounded-lg font-medium transition-all\n              touch-target no-select flex-1 md:flex-initial\n              ".concat(0===x?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 active:scale-[0.98]","\n            "),children:n("assessment.core.back")}),(0,s.jsx)("button",{onClick:()=>{h&&b&&(v({responseId:"resp_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),sessionId:b,questionId:q.id,questionType:"core",responseType:"binary",selectedOption:h,mbtiDimension:q.dimension,score:0,timestamp:new Date,tendency:"A"===h?q.optionATendency:q.optionBTendency}),A?(console.log("Last question completed. Navigating to interim results..."),setTimeout(()=>{d.push("/".concat(t,"/assessment/interim"))},100)):(y(x+1),p(null)))},disabled:!h,className:"\n              px-4 md:px-6 py-3 rounded-lg font-medium transition-all\n              touch-target no-select flex-1 md:flex-initial\n              ".concat(h?"bg-indigo-600 text-white hover:bg-indigo-700 active:scale-[0.98]":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed","\n            "),children:n("assessment.core.next")})]}),!h&&(0,s.jsx)("p",{className:"text-center mt-4 text-sm text-gray-500 dark:text-gray-400",children:n("assessment.core.selectOption")})]})]}):null}},6448:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var s=n(7437),r=n(9098);function a(e){let{current:t,total:n,showLabel:a=!1,labelText:o}=e,{language:i}=(0,r.u7)(),l=t/n*100;return(0,s.jsxs)("div",{className:"w-full",children:[a&&o&&(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:o}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Math.round(l),"%"]})]}),(0,s.jsxs)("div",{className:"relative h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700"}),(0,s.jsx)("div",{className:"\n            absolute top-0 h-full bg-gradient-to-r from-indigo-500 to-indigo-600 \n            transition-all duration-500 ease-out rounded-full\n            ".concat("ar"===i?"right-0":"left-0","\n          "),style:{width:"".concat(l,"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 opacity-30",children:(0,s.jsx)("div",{className:"h-full w-full bg-gradient-to-r from-transparent via-white to-transparent animate-shimmer"})})}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:Array.from({length:n},(e,n)=>{let r=n<t,a=n===t-1;return(0,s.jsx)("div",{className:"\n                  w-2 h-2 rounded-full transition-all duration-300\n                  ".concat(r||a?"bg-white shadow-sm scale-110":"bg-gray-300 dark:bg-gray-600 scale-75","\n                ")},n)})})]}),(0,s.jsx)("div",{className:"mt-3 text-center",children:(0,s.jsxs)("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300",children:[t," / ",n]})})]})}},6241:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var s=n(7437);function r(e){let{question:t,children:n}=e;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 md:p-10",children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-8",children:t}),(0,s.jsx)("div",{children:n})]})}}},function(e){e.O(0,[949,299,98,578,971,117,744],function(){return e(e.s=488)}),_N_E=e.O()}]);